<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Checkout</title>
  </head>
  <body>
    <div id="navbar">
      <h1>Checkout | Cost: 100/seat</h1>
      <!-- Display the wallet amount here inside h1 tag with id as "wallet". Note only amount, no extra text. Like 500 not Rs 500 -->
    </div>
    <div id="user-detail">

      <input id="user_name"  type="text" placeholder="Enter name">
      <input id="number_of_seats" type="text" placeholder="Enter number of seats">
      <button onclick="confirm()" id="confirm">confirm</button>
      <!-- input field to accept user name with id as "user_name"  -->
      <!-- input field to accept number of seats with id as "number_of_seats"  -->
      <!-- A submit button to confirm booking with id as "confirm"  -->
    </div>

    <div id="movie">
      <!-- Append the selected movie for booking here -->
      <!-- movie should have title and image  -->
      <!-- It should be the same movie you selected for booking  -->
    </div>
  </body>
</html>

<!-- <script src="./scripts/index.js"></script> -->

<script>

var movie = JSON.parse(localStorage.getItem("movie")) || [];  
  console.log(movie) ;
  



  movie.forEach(function(elem,index){

let div = document.createElement("div");
    div.setAttribute("id","inside")

let img = document.createElement("img")
    img.src = elem.Poster ;

let name = document.createElement("h2")
    name.innerText = elem.Title ;




  div.append(name,img);

  document.querySelector("#movie").append(div);

})


function confirm(){

  var price = JSON.parse(localStorage.getItem("amount")) || []
  console.log(price)

 var no=   document.getElementById("number_of_seats").value ;

 var total = (100 * no) ;
//  console.log(total, "no")

if(price < total ){
  alert("Insufficient Balance!")
}
 else if(price>=total){
  
  alert("Booking successful!")

  
 function final() {
   let fin =  localStorage.setItem("amount",JSON.stringify(Number(price -total)))
 

 if(fin === undefined){
  document.querySelector("#navbar").innerHTML =`${0}` ;
 }
 else{
  document.querySelector("#navbar").innerHTML =`${fin}` ;
 }
 }

  //  price = price- total ; 
}


    // console.log(money,"money")
    // document.querySelector("#navbar").innerHTML =`${price}` ;

}


// var price = JSON.parse(localStorage.getItem("amount")) || []
// document.querySelector("#navbar").innerHTML =`${final}` ;

</script>